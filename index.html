<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>专 砖 拽</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
        }
        .timer-display {
            font-size: 6rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .btn-quick {
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }
        .btn-quick:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }
        .btn-quick.selected {
            border-color: #fbbf24;
            background: linear-gradient(45deg, #f59e0b, #fbbf24);
            color: white;
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(251, 191, 36, 0.4);
        }
        .status-display {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 15px;
            padding: 1rem;
            margin: 1rem 0;
            font-size: 1.5rem;
            color: white;
            text-align: center;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .input-group {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1rem 0;
        }
        .time-input {
            width: 80px;
            height: 60px;
            font-size: 2rem;
            text-align: center;
            border: 2px solid #ddd;
            border-radius: 10px;
            background: white;
        }
        .interval-input {
            width: 60px;
            height: 40px;
            font-size: 1.2rem;
            text-align: center;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: white;
        }
        .glow-green { 
            background: #10b981; 
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
        }
        .glow-blue { 
            background: #3b82f6; 
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
        }
        .glow-red { 
            background: #ef4444; 
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.5);
        }
        .glow-yellow { 
            background: #f59e0b; 
            box-shadow: 0 0 20px rgba(245, 158, 11, 0.5);
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        .pulse-animation {
            animation: pulse 1s infinite;
        }
    </style>
</head>
<body class="text-white">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <div class="text-center mb-8">
            <h1 class="text-5xl font-bold mb-2">专 砖 拽</h1>
            <p class="text-xl opacity-90">注 转专注转</p>
            <div class="text-sm mt-4 bg-black bg-opacity-30 p-3 rounded-lg">
                 拽专转: <span class="text-red-300">砖注转 = 拽 专 </span> | 
                <span class="text-blue-300">拽转 = 拽 砖</span> | 
                <span class="text-green-300">砖转 = 拽 专</span>
            </div>
        </div>

        <!-- 转爪转 专 专砖转 -->
        <div class="text-center mb-6">
            <div id="timerDisplay" class="timer-display text-white">00:00:00</div>
            <div id="statusDisplay" class="status-display">
                <i class="fas fa-clock mr-2"></i>
                专 专 转
            </div>
        </div>

        <!-- 专 专 -->
        <div class="input-group">
            <h3 class="text-2xl font-bold mb-4 text-center">
                <i class="fas fa-tachometer-alt mr-2"></i>专 专
            </h3>
            <div class="grid grid-cols-3 md:grid-cols-6 gap-3">
                <button class="btn-quick bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg" onclick="quickSelect(1, 'minute')">1 拽</button>
                <button class="btn-quick bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg" onclick="quickSelect(3, 'minute')">3 拽转</button>
                <button class="btn-quick bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg" onclick="quickSelect(5, 'minute')">5 拽转</button>
                <button class="btn-quick bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg" onclick="quickSelect(10, 'minute')">10 拽转</button>
                <button class="btn-quick bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg" onclick="quickSelect(15, 'minute')">15 拽转</button>
                <button class="btn-quick bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg" onclick="quickSelect(30, 'minute')">30 拽转</button>
                <button class="btn-quick bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-4 rounded-lg" onclick="quickSelect(1, 'hour')">1 砖注</button>
                <button class="btn-quick bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-4 rounded-lg" onclick="quickSelect(2, 'hour')">2 砖注转</button>
                <button class="btn-quick bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg" onclick="quickSelect(30, 'second')">30 砖转</button>
                <button class="btn-quick bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg" onclick="quickSelect(45, 'second')">45 砖转</button>
                <button class="btn-quick bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg" onclick="quickSelect(60, 'second')">60 砖转</button>
                <button class="btn-quick bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg" onclick="quickSelect(90, 'second')">90 砖转</button>
            </div>
        </div>

        <!-- 专 转 -->
        <div class="input-group">
            <h3 class="text-2xl font-bold mb-4 text-center">
                <i class="fas fa-cog mr-2"></i>专 转
            </h3>
            <div class="flex justify-center items-center space-x-4 mb-4">
                <div class="text-center">
                    <label class="block text-lg font-semibold mb-2">砖注转</label>
                    <input type="number" id="hours" class="time-input" min="0" max="23" value="0">
                </div>
                <span class="text-4xl font-bold">:</span>
                <div class="text-center">
                    <label class="block text-lg font-semibold mb-2">拽转</label>
                    <input type="number" id="minutes" class="time-input" min="0" max="59" value="0">
                </div>
                <span class="text-4xl font-bold">:</span>
                <div class="text-center">
                    <label class="block text-lg font-semibold mb-2">砖转</label>
                    <input type="number" id="seconds" class="time-input" min="0" max="59" value="0">
                </div>
            </div>
        </div>

        <!-- 专转 专 转专注转 -->
        <div class="input-group">
            <h3 class="text-2xl font-bold mb-4 text-center">
                <i class="fas fa-bell mr-2"></i>专 转专注转
            </h3>
            <p class="text-center text-sm mb-4 opacity-80">专 专   砖专 住</p>
            <div class="flex justify-center items-center space-x-6">
                <div class="text-center">
                    <label class="block text-lg font-semibold mb-2">砖注转</label>
                    <input type="number" id="alertHours" class="interval-input" min="0" max="23" value="0">
                </div>
                <span class="text-2xl font-bold">:</span>
                <div class="text-center">
                    <label class="block text-lg font-semibold mb-2">拽转</label>
                    <input type="number" id="alertMinutes" class="interval-input" min="0" max="59" value="5">
                </div>
                <span class="text-2xl font-bold">:</span>
                <div class="text-center">
                    <label class="block text-lg font-semibold mb-2">砖转</label>
                    <input type="number" id="alertSeconds" class="interval-input" min="0" max="59" value="0">
                </div>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-2 mt-4">
                <button class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-3 rounded" onclick="setAlertInterval(0,1,0)"> 拽</button>
                <button class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-3 rounded" onclick="setAlertInterval(0,2,0)"> 2 拽转</button>
                <button class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-3 rounded" onclick="setAlertInterval(0,5,0)"> 5 拽转</button>
                <button class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-3 rounded" onclick="setAlertInterval(0,10,0)"> 10 拽转</button>
                <button class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-3 rounded" onclick="setAlertInterval(0,0,30)"> 30 砖转</button>
                <button class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-3 rounded" onclick="setAlertInterval(0,0,15)"> 15 砖转</button>
                <button class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-3 rounded" onclick="setAlertInterval(0,0,10)"> 10 砖转</button>
                <button class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-3 rounded" onclick="setAlertInterval(0,15,0)"> 15 拽转</button>
            </div>
        </div>

        <!-- 驻转专 驻拽 -->
        <div class="text-center space-x-4">
            <button id="startBtn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-8 rounded-lg text-xl" onclick="startTimer()">
                <i class="fas fa-play mr-2"></i>转 专
            </button>
            <button id="stopBtn" class="bg-red-500 hover:bg-red-600 text-white font-bold py-4 px-8 rounded-lg text-xl" onclick="stopTimer()">
                <i class="fas fa-stop mr-2"></i>注爪专
            </button>
            <button class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-4 px-8 rounded-lg text-xl" onclick="testVoice()">
                <i class="fas fa-volume-up mr-2"></i>拽 拽
            </button>
        </div>
    </div>

    <script>
        let timerInterval;
        let totalSeconds = 0;
        let alertIntervalSeconds = 300; // 专专转 :  5 拽转
        let isRunning = false;
        let selectedQuickButton = null;

        // 住驻专 注专转 转爪
        const hebrewNumbers = {
            0: '驻住', 1: '转', 2: '砖转', 3: '砖砖', 4: '专注', 5: '砖',
            6: '砖砖', 7: '砖注', 8: '砖', 9: '转砖注', 10: '注砖专',
            11: '转 注砖专', 12: '砖转 注砖专', 13: '砖砖 注砖专', 14: '专注 注砖专', 15: '砖 注砖专',
            16: '砖砖 注砖专', 17: '砖注 注砖专', 18: '砖 注砖专', 19: '转砖注 注砖专', 20: '注砖专',
            30: '砖砖', 40: '专注', 50: '砖', 60: '砖砖'
        };

        function quickSelect(value, unit) {
            // 住专 砖  驻转专
            document.querySelectorAll('.btn-quick').forEach(btn => {
                btn.classList.remove('selected');
            });

            // 砖 转 驻转专 砖抓
            event.target.classList.add('selected');
            selectedQuickButton = event.target;

            // 专 转 
            let hours = 0, minutes = 0, seconds = 0;
            
            if (unit === 'hour') {
                hours = value;
            } else if (unit === 'minute') {
                minutes = value;
            } else if (unit === 'second') {
                seconds = value;
            }

            document.getElementById('hours').value = hours;
            document.getElementById('minutes').value = minutes;
            document.getElementById('seconds').value = seconds;

            updateTimerDisplay();
            updateStatusDisplay();
        }

        function setAlertInterval(h, m, s) {
            document.getElementById('alertHours').value = h;
            document.getElementById('alertMinutes').value = m;
            document.getElementById('alertSeconds').value = s;
            alertIntervalSeconds = h * 3600 + m * 60 + s;
        }

        function updateTimerDisplay() {
            const hours = parseInt(document.getElementById('hours').value) || 0;
            const minutes = parseInt(document.getElementById('minutes').value) || 0;
            const seconds = parseInt(document.getElementById('seconds').value) || 0;
            
            totalSeconds = hours * 3600 + minutes * 60 + seconds;
            
            const display = document.getElementById('timerDisplay');
            const h = Math.floor(totalSeconds / 3600);
            const m = Math.floor((totalSeconds % 3600) / 60);
            const s = totalSeconds % 60;
            
            display.textContent = `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
        }

        function updateStatusDisplay() {
            const statusDisplay = document.getElementById('statusDisplay');
            if (!isRunning) {
                const hours = parseInt(document.getElementById('hours').value) || 0;
                const minutes = parseInt(document.getElementById('minutes').value) || 0;
                const seconds = parseInt(document.getElementById('seconds').value) || 0;
                
                if (hours === 0 && minutes === 0 && seconds === 0) {
                    statusDisplay.innerHTML = '<i class="fas fa-clock mr-2"></i>专 专 转';
                } else {
                    let timeText = '';
                    if (hours > 0) timeText += `${hours} 砖注转 `;
                    if (minutes > 0) timeText += `${minutes} 拽转 `;
                    if (seconds > 0) timeText += `${seconds} 砖转`;
                    
                    statusDisplay.innerHTML = `<i class="fas fa-hourglass-half mr-2"></i>专  砖 ${timeText.trim()}`;
                }
            }
        }

        function formatTimeForSpeech(totalSecs) {
            const hours = Math.floor(totalSecs / 3600);
            const minutes = Math.floor((totalSecs % 3600) / 60);
            const seconds = totalSecs % 60;
            
            let text = '';
            if (hours > 0) {
                text += hours === 1 ? 'one hour' : `${hours} hours`;
                if (minutes > 0 || seconds > 0) text += ' and ';
            }
            if (minutes > 0) {
                text += minutes === 1 ? 'one minute' : `${minutes} minutes`;
                if (seconds > 0 && hours === 0) text += ' and ';
            }
            if (seconds > 0 && hours === 0) {
                text += seconds === 1 ? 'one second' : `${seconds} seconds`;
            }
            
            return text;
        }

        function speak(text, pitch = 1, rate = 1, volume = 1) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.pitch = pitch;
                utterance.rate = rate;
                utterance.volume = volume;
                utterance.lang = 'en-US';
                
                speechSynthesis.speak(utterance);
                
                // 专 驻
                if ('vibrate' in navigator) {
                    if (pitch > 1.1) {
                        navigator.vibrate(1000); // 砖注转 - 专 专
                    } else if (pitch < 0.9) {
                        navigator.vibrate(200); // 砖转 - 专 拽爪专
                    } else {
                        navigator.vibrate(500); // 拽转 - 专 
                    }
                }
            }
        }

        function startTimer() {
            updateTimerDisplay();
            
            if (totalSeconds <= 0) {
                alert(' 专  转拽');
                return;
            }

            alertIntervalSeconds = parseInt(document.getElementById('alertHours').value) * 3600 + 
                                 parseInt(document.getElementById('alertMinutes').value) * 60 + 
                                 parseInt(document.getElementById('alertSeconds').value);

            isRunning = true;
            const statusDisplay = document.getElementById('statusDisplay');
            statusDisplay.innerHTML = '<i class="fas fa-play-circle mr-2 pulse-animation"></i>专 驻注...';
            statusDisplay.classList.add('glow-green');

            // 专转 转
            const timeText = formatTimeForSpeech(totalSeconds);
            speak(`Timer started for ${timeText}`, 1, 1, 1);

            timerInterval = setInterval(() => {
                totalSeconds--;
                
                const display = document.getElementById('timerDisplay');
                const h = Math.floor(totalSeconds / 3600);
                const m = Math.floor((totalSeconds % 3600) / 60);
                const s = totalSeconds % 60;
                
                display.textContent = `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;

                // 砖 爪注 专拽注 驻  转专
                if (totalSeconds <= 60) {
                    statusDisplay.classList.remove('glow-green', 'glow-blue');
                    statusDisplay.classList.add('glow-red');
                    statusDisplay.innerHTML = '<i class="fas fa-exclamation-triangle mr-2 pulse-animation"></i>驻转 拽 转专!';
                } else if (totalSeconds <= 300) {
                    statusDisplay.classList.remove('glow-green');
                    statusDisplay.classList.add('glow-blue');
                    statusDisplay.innerHTML = '<i class="fas fa-clock mr-2"></i>驻转 -5 拽转 转专';
                }

                // 转专注转 专
                if (alertIntervalSeconds > 0 && totalSeconds > 0 && totalSeconds % alertIntervalSeconds === 0) {
                    announceTimeRemaining();
                }

                // 住驻专 专 -5 砖转 专转
                if (totalSeconds <= 5 && totalSeconds > 0) {
                    speak(totalSeconds.toString(), 0.8, 1.2, 1);
                }

                // 住 专
                if (totalSeconds <= 0) {
                    clearInterval(timerInterval);
                    isRunning = false;
                    
                    statusDisplay.innerHTML = '<i class="fas fa-check-circle mr-2"></i>专 住转 爪!';
                    statusDisplay.classList.remove('glow-green', 'glow-blue', 'glow-red');
                    statusDisplay.classList.add('glow-yellow');
                    
                    // 专转 住
                    speak('Timer completed successfully!', 1, 0.9, 1);
                    
                    // 专 专 住
                    if ('vibrate' in navigator) {
                        navigator.vibrate([500, 200, 500, 200, 500]);
                    }
                    
                    // 住专 砖 驻转专 专 专
                    if (selectedQuickButton) {
                        selectedQuickButton.classList.remove('selected');
                        selectedQuickButton = null;
                    }
                }
            }, 1000);
        }

        function announceTimeRemaining() {
            const hours = Math.floor(totalSeconds / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const seconds = totalSeconds % 60;

            if (hours > 0) {
                const text = hours === 1 ? 'Hours remaining: one' : `Hours remaining: ${hours}`;
                speak(text, 1.2, 0.8, 1); // 拽 专  砖注转
            } else if (minutes > 0) {
                const text = minutes === 1 ? 'Minutes remaining: one' : `Minutes remaining: ${minutes}`;
                speak(text, 1, 1, 1); // 拽 砖 专 拽转
            } else if (seconds > 0) {
                const text = seconds === 1 ? 'Seconds remaining: one' : `Seconds remaining: ${seconds}`;
                speak(text, 0.8, 1.3, 1); // 拽 专 砖转
            }
        }

        function stopTimer() {
            clearInterval(timerInterval);
            isRunning = false;
            
            const statusDisplay = document.getElementById('statusDisplay');
            statusDisplay.innerHTML = '<i class="fas fa-stop-circle mr-2"></i>专 注爪专';
            statusDisplay.classList.remove('glow-green', 'glow-blue', 'glow-red', 'glow-yellow');
            
            // 住专 砖 驻转专 专 专
            if (selectedQuickButton) {
                selectedQuickButton.classList.remove('selected');
                selectedQuickButton = null;
            }
            
            speak('Timer stopped', 1, 1, 1);
        }

        function testVoice() {
            speak('Hours remaining: two', 1.2, 0.8, 1);
            setTimeout(() => speak('Minutes remaining: thirty', 1, 1, 1), 1500);
            setTimeout(() => speak('Seconds remaining: fifteen', 0.8, 1.3, 1), 3000);
        }

        // 注 转爪 砖砖 注专
        document.getElementById('hours').addEventListener('input', updateStatusDisplay);
        document.getElementById('minutes').addEventListener('input', updateStatusDisplay);
        document.getElementById('seconds').addEventListener('input', updateStatusDisplay);

        // 转 转爪
        updateStatusDisplay();
    </script>
</body>
</html>
